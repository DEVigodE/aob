### ========================================
### Exemplos de Requisições - Quarkus + Keycloak
### ========================================

### 1. OBTER TOKEN JWT DO KEYCLOAK
POST http://localhost:8080/realms/aob/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

username=admin&password=admin&grant_type=password&client_id=auth-service

### Copie o access_token da resposta acima e cole abaixo
@token = SEU_TOKEN_AQUI

### ========================================
### ENDPOINTS PÚBLICOS (sem autenticação)
### ========================================

### 2. Health Check
GET http://localhost:8081/public/health

### 3. Info da API
GET http://localhost:8081/public/info

### 4. Listar todas as partidas
GET http://localhost:8081/partidas

### 5. Buscar partida por ID
GET http://localhost:8081/partidas/1

### ========================================
### ENDPOINTS PROTEGIDOS (requer role admin)
### ========================================

### 6. Criar nova partida
POST http://localhost:8081/partidas
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "timeCasa": "Flamengo",
  "timeVisitante": "Vasco",
  "data": "2026-03-10",
  "placarCasa": 3,
  "placarVisitante": 0
}

### 7. Atualizar partida
PUT http://localhost:8081/partidas/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "timeCasa": "Flamengo",
  "timeVisitante": "Palmeiras",
  "data": "2026-02-15",
  "placarCasa": 4,
  "placarVisitante": 2
}

### 8. Deletar partida
DELETE http://localhost:8081/partidas/1
Authorization: Bearer {{token}}

### ========================================
### ENDPOINTS AUTENTICADOS (requer user ou admin)
### ========================================

### 9. Ver informações do usuário autenticado
GET http://localhost:8081/partidas/me
Authorization: Bearer {{token}}

### ========================================
### TESTES DE VALIDAÇÃO
### ========================================

### 10. Criar partida com dados inválidos (deve retornar 400)
POST http://localhost:8081/partidas
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "timeCasa": "",
  "timeVisitante": "",
  "placarCasa": 0,
  "placarVisitante": 0
}

### ========================================
### TESTES DE SEGURANÇA
### ========================================

### 11. Tentar criar partida sem token (deve retornar 401)
POST http://localhost:8081/partidas
Content-Type: application/json

{
  "timeCasa": "Flamengo",
  "timeVisitante": "Vasco",
  "data": "2026-03-10",
  "placarCasa": 3,
  "placarVisitante": 0
}

### 12. Tentar criar partida com token inválido (deve retornar 401)
POST http://localhost:8081/partidas
Authorization: Bearer token_invalido_aqui
Content-Type: application/json

{
  "timeCasa": "Flamengo",
  "timeVisitante": "Vasco",
  "data": "2026-03-10",
  "placarCasa": 3,
  "placarVisitante": 0
}
